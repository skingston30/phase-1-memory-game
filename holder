function checkHighScore(finalAttempts) {
    
  const savedBest = localStorage.getItem('matchingGameBest');

  if (savedBest === null || finalAttempts < savedBest) {
    localStorage.setItem('matchingGameBest', finalAttempts);
    alert(`New Personal Best: ${finalAttempts} tries!`);
  }
}

if (score === totalPairs) {
  celebrate();
  checkHighScore(attempts); // Pass the current attempts to our saver
}

function updateDisplay() {
  const best = localStorage.getItem('matchingGameBest') || '--';
  document.getElementById('score').innerText = `Matches: ${score}`;
  document.getElementById('attempts').innerText = `Tries: ${attempts}`;
  document.getElementById('best').innerText = `Best: ${best}`;
}